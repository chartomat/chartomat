(function(){var rawData=[["","London","Warsaw"],["Jan",7,-2],["Feb",7,-3],["Mar",9,3],["Apr",11,8],["May",14,14],["Jun",16,16],["Jul",19,18],["Aug",19,18],["Sep",17,14],["Oct",13,9],["Nov",10,3],["Dec",7,-1]];function getColumn(array2d,columnIndex){return array2d.map(function(row){return row[columnIndex]})}function trimRigthNulls(array){var end=array.length;while(end>0&&array[end-1]==null){end--}return array.slice(0,end)}function buildChartData(rawData){var header=trimRigthNulls(rawData[0]);var data=rawData.slice(1);var labels=getColumn(data,0);var chartData=[];for(var i=1;i<header.length;i++){chartData.push({name:header[i],x:labels,y:trimRigthNulls(getColumn(data,i)),type:"scatter"})}return chartData}var chartConfig={displaylogo:false,modeBarButtonsToRemove:["sendDataToCloud"]};function plot(){var chartData=buildChartData(rawData);var chartElem=document.getElementById("chart");console.log(chartData);Plotly.newPlot(chartElem,chartData,{},chartConfig)}function table(){var tableElem=document.getElementById("table");var table=new Handsontable(tableElem,{data:rawData,minCols:26,minRows:100,minSpareRows:1,rowHeaders:true,colHeaders:true,contextMenu:true,afterChange:function(){console.log("afterChange",arguments);plot()}})}window.chartomat={plot:plot,table:table}})();