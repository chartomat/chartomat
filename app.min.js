!function(){function n(n,o){return n.map(function(n){return n[o]})}function o(n){for(var o=n.length;o>0&&null==n[o-1];)o--;return n.slice(0,o)}function t(t){for(var e=o(t[0]),a=t.slice(1),r=n(a,0),i=[],c=1;c<e.length;c++)i.push({name:e[c],x:r,y:o(n(a,c)),type:"scatter"});return i}function e(){var n=t(s),o=document.getElementById("chart"),e={};Plotly.newPlot(o,n,e,d)}function a(){var n=document.getElementById("table");new Handsontable(n,{data:s,minCols:26,minRows:100,minSpareRows:1,rowHeaders:!0,colHeaders:!0,contextMenu:!0,afterChange:function(){console.log("afterChange",arguments),e()}})}function r(){var n=s.map(function(n){return o(n)}).filter(function(n){return n.length>0}),t=""===window.location.hash||"#"===window.location.hash;if(t)$.ajax({method:"POST",url:"http://s1.chartomat.io/charts/",data:JSON.stringify(n),contentType:"application/json"}).done(function(n){console.log("Saved",n),window.location.hash=n.id,localStorage.setItem("chart-"+n.id+"-token",n.token)}).fail(function(n,o){console.log("Error",o)});else{var e=window.location.hash.substring(1),a=localStorage.getItem("chart-"+e+"-token");$.ajax({method:"PUT",url:"http://s1.chartomat.io/charts/"+e,headers:{"X-Chart-Token":a},data:JSON.stringify(n),contentType:"application/json"}).done(function(n){console.log("Updated",n)}).fail(function(n,o){console.log("Error",o)})}}function i(){if(window.location.hash&&window.location.hash.length>1){var n=window.location.hash.substring(1);return $.ajax({method:"GET",url:"http://s1.chartomat.io/charts/"+n,dataType:"json"}).then(function(n){return n.raw_data}).fail(function(n,o){console.log("Error",o)})}return $.Deferred().resolve(u).promise()}function c(){i().done(function(n){s=n,a(),e()})}function l(){i().done(function(n){s=n,e()})}var s=[],u=[["","London","Warsaw"],["Jan",7,-2],["Feb",7,-3],["Mar",9,3],["Apr",11,8],["May",14,14],["Jun",16,16],["Jul",19,18],["Aug",19,18],["Sep",17,14],["Oct",13,9],["Nov",10,3],["Dec",7,-1]],d={displaylogo:!1,modeBarButtonsToRemove:["sendDataToCloud"]};window.chartomat={init:c,initEmbedded:l,save:r}}();